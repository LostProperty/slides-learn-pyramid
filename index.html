<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>Learn something new - Quick look into another Python web framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Rach Belaid">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/lostproperty.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/tomorrow.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>


        <img class="logo" src="http://lostpropertyhq.com/static/images/logo.png"/>

		<span class="website"><a href="http://lostpropertyhq.com">lostpropertyhq.com <a></span>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Learn something new</h1>
					<h3>A quick look into the Pyramid web framework</h3>
					<p>
						<small>Created by <a href="http://rachbelaid.com">Rach
								Belaid</a> / <a href="http://twitter.com/rachbelaid">@rachbelaid</a></small>
					</p>
				</section>

				<section>
					<h1>Who I am.</h1>
					<h3>Python charmer, Git Lover and a PostgreSQL
						Fan. </h3>
					<h3>
						I build web stuff and love learning something new.
					</h3>
					<p>
						work at  Lost property
					</p>

					<aside class="notes">
						Notes..
					</aside>
				</section>

				<section>
					<h2>I may be harsh!</h2>
					<p> ... but I mean well </p>
					<h3>
						Django is a great framework!</h3>
					<h3> It allowed me to make my living from Python,</h3>
					<h2> a language that I ❤
					</h3>

					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>So why look somewhere else then?</h2>
					<ul>
						<li>To discover other solutions to common problems</li>
						<li>You are a python developer and not a Django developer</li>
						<li>It's fun and exicting</li>
						<li>Due to frustrations</li>
						<li>To extend your mind and toolbelt with new tools</li>
						<li>To come back with a fresh eyes</li>
					</ul>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Loads of frameworks out there!</h2>
					<ul>
						<li>Web2py</li>
						<li>Flask</li>
						<li>Pyramid</li>
						<li>TurboGears</li>
						<li>Grok</li>
						<li>Zope</li>

					</ul>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h1>Why Pyramid?</h1>
					<aside class="notes">
						Never met a web2py developer ... seriously!
					</aside>
				</section>
				<section>
					<h2>I was living a happy life</h2>
					<p> and had my own swiss army knife as a toolkit </p>
					<img  class="fragment" src="http://ecx.images-amazon.com/images/I/61ABQA%2Bgt8S._SL1063_.jpg"/>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>One day!</h2>
					<h3>Somebody asked me to build this!</h3>
					<img src="http://cache.boston.com/universal/site_graphics/blogs/bigpicture/lhc_08_01/lhc11.jpg"/>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>What I really needed!</h2>
					<p>was this!</p>
					<img src="http://www.machinemart.co.uk/images/library/product/huge/04/040210641.jpg"/>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<ul>
						<li>Modular </li>
						<li>Flexible</li>
						<li>Agnostic, Not opiniated</li>
						<li>Extensible</li>
						<li>Fast</li>
						<li>Full Control</li>
						<li>For small and big webapps</li>
					</ul>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>And sometimes ... </h2>
						<h3>...doing things is easier than undoing things</h3>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h1>What's Pyramid?</h1>
					<aside class="notes">
						Never met a web2py developer ... seriously!
					</aside>
				</section>
				<section>
					<h2>Simple example</h2>
<pre><code data-trim>
from wsgiref.simple_server import make_server
from pyramid.config import Configurator
from pyramid.response import Response

def hello_world(request):
    return Response('Hello world!')

if __name__ == '__main__':
    config = Configurator()
    config.add_route('home', '/')
    config.add_view(hello_world, route_name='home')
    app = config.make_wsgi_app()
    server = make_server('0.0.0.0', 8080, app)
    server.serve_forever()
</code></pre>
					<aside class="notes">
						micro frameworks example
					</aside>
				</section>
				<section>
					<h2>Same example but another way</h2>
<pre><code data-trim>
from wsgiref.simple_server import make_server
from pyramid.config import Configurator
from pyramid.response import Response
from pyramid.view import view_config

@view_config(route_name='home')
def hello_world(request):
    return Response('Hello world!')

if __name__ == '__main__':
    config = Configurator()
    config.add_route('home', '/')
    config.scan()
    #run the app
    app = config.make_wsgi_app()
    server = make_server('0.0.0.0', 8080, app)
    server.serve_forever()
</code></pre>
					<aside class="notes">
						micro frameworks example
					</aside>
				</section>
				<section>
					<h2>TIMTOWTDI. Blasphemy !! </h2>
					<p>with pyramid there is more than one way to do things!!!</p>
					<h3>I want my tools to bend to my needs and not me to them.</h3>
					<aside class="notes">

					</aside>
				</section>
				<section>
					<h2>Battery not included.</h2>
					<h3>Nor the shell, nor the wheels.</h3>
					<h3>Time to go shopping and get the best out there!!</h3>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Pyramid has “extensible” applications, not pluggable applications</h2>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Routing</h2>
					<h3>View != Route</h3>
					<p>Base on method, xhr, param, custom function(predicate)</p>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Routing Example via Method</h2>
<pre><code data-trim>
@view_config(route_name='test', request_method='GET')
def hello_world(request):
    return Response('Hello world!')

@view_config(route_name='test', request_method='POST')
def thanks_you(request):
    return Response('Thanks you')

if __name__ == '__main__':
   config = Configurator()
   config.add_route('test', '/test')
   config.scan()
</code></pre>
					<aside class="notes">
						micro frameworks example
					</aside>
				</section>
				<section>
					<h2>Routing Example with param</h2>
<pre><code data-trim>
@view_config(route_name='action', match_param='action=hello')
def hello_view(request):
    return Response('Hello')

@view_config(route_name='action', match_param='action=bye')
def bye_view(request):
    return Response('Bye Bye')

@view_config(route_name='action', match_param='action')
def bye_view(request):
    return Response('Let’s continue')

if __name__ == '__main__':
config = Configurator()
config.add_route('action', '/{action:\w+}') config.scan()
</code></pre>
					<aside class="notes">
						micro frameworks example
					</aside>
				</section>
				<section>
					<h2>Routing Example with predicate</h2>
<pre><code data-trim>
def useless_predicate(info, request):
	from datetime import date
	today = date.today()
	return today.day == 29 && today.month == 2

@view_config(route_name='home', custom_predicate=useless_predicate)
def useless_view(request):
	return Response('Leap year')

if __name__ == '__main__':
    config = Configurator()
    config.add_route('home', '/')
    config.scan()
</code></pre>
					<aside class="notes">
						micro frameworks example
					</aside>
				</section>
				<section>

				<h2>Routing with class and method too</h2>
<pre><code data-trim>
@view_config(route_name='test')
def test(request):
    return Response('ok')

class Test(object):
    def __init__(self, request):
        self.request = request

    @view_config(route_name='test')
    def test(self):
        return Response('ok')

@view_config(route_name='test')
class Test(object):
    def __init__(self, request):
        self.request = request

    def __call__(self):
        return Response('ok')
</code></pre>
					<aside class="notes">
						micro frameworks example
					</aside>
				</section>


				<section>
					<h1>ORM</h1>
					<h2>You can choose but the choice is easy.</h2>
					<aside class="notes">
						If there is a piece of software which amazed me in my dev life.
						It's SQLAlchemy
					</aside>
				</section>
				<section>
					<h2>SQLAlchemy, the only true ORM</h2>
					<h3>Once you go SQLAlchemy, you never go back.</h3>
					<p>Finally an ORM that allows you to write better queries.</p>
					<aside class="notes">
						If there is a piece of software which amazed me in my dev life.
						It's SQLAlchemy
					</aside>
				</section>
				<section>
					<h2>Templating</h2>
					<ul>
						<li>Mako</li>
						<li>Chameleon</li>
						<li>Jinja2</li>
					</ul>
					<p> ... and they are fast.</p>
					<aside class="notes">
						They all have their feature and advantages
					</aside>
				</section>
				<section>
					<h2>Admin</h2>
					<h3>Sorry, there is none ... but you may have a chance with FormAlchemy.</h3>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h1>Hooks</h1>
					<h2>Tweens, Event, Finished, Callbacks, Response Adapter ...</h2>
					<br/>
					<p> to play ther role of middleware, context processor django</p>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Tweens</h2>
					<h3>A tween (a contraction of the word “between”) is a bit of code that sits between the Pyramid router’s main request handling function and the upstream WSGI</h3>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Response Adaptor</h2>
					<h3>to control how Pyramid treats the view result </h3>
<pre><code data-trim>
from pyramid.response import Response

def string_response_adapter(s):
    response = Response(s)
    return response

# config is an instance of pyramid.config.Configurator

config.add_response_adapter(string_response_adapter, str)
</code></pre>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Events</h2>
					<h3>loads of events : NewResponse, ApplicationCreated, ... </h3>
<pre><code data-trim>
from pyramid.events import subscriber
from pyramid.events import BeforeRender

@subscriber(BeforeRender)
def add_global(event):
    event['mykey'] = 'foo'
</code></pre>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Subscriber Predicates</h2>
					<h3>to narrow the set of circumstances in which a subscriber to an event will be called</h3>
					<aside class="notes">
						Notes..
					</aside>
				</section>
								<section>
					<h2>Finished Callback</h2>
					<h3>Will be call no matter what happens!</h3>
<pre><code data-trim>
import logging

log = logging.getLogger(__name__)

def log_callback(request):
    """Log information at the end of request"""
    log.debug('Request is finished.')
request.add_finished_callback(log_callback)
</code></pre>
					<aside class="notes">
						Notes..
					</aside>
				</section>


				<section>
					<h1 style="font-family:helvetica">It's Alive! It's Alive!</h1>
					<img src="http://farm3.staticflickr.com/2243/2069898453_fae00f305f_o.jpg" />
					<aside class="notes">
						So much power
					</aside>
				</section>

				<section>
					<h2>Validation</h2>
					<h3>Colander, FormEncode</h3>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Form</h2>
					<p>WTForms, Deform with colander, WTForms-Alchemy , simple_form</p>
					<aside class="notes">
						WTForms, Deform (with colander), WTForms-Alchemy , pyramid_simpleform (with Formencode)
					</aside>
				</section>
				<section>
					<h2>Authentication & Authorization policy</h2>
					<ul>
						<li>Clear separation between Authorization and Authentication</li>
						<li>Powerfull ACL</li>
						<li>Resource Tree dependency</li>
						<li>Or build your own</li>
					</ul>
					<aside class="notes">
						Notes..
					</aside>
				</section>
				<section>
					<h2>Config</h2>
					<p> Imperative configuration or .ini file for non dev colleagues or even ZCML(XML)  </p>
					<p> .ini file can support to serve multi wsgi app (paste legacy) </p>

					<aside class="notes">

					</aside>
				</section>
				<section>
					<h2>Python Package friendly</h2>
					<h3>Application ready to package (egg, wheel, deb,..) or to distribute</h3>
					<aside class="notes">

					</aside>
				</section>
				<!-- Example of nested vertical slides -->
				<section>
					<h2>Interrested in Pyramid?</h2>
					<h3> Have a chat.</h3>
					<h3>Check the doc, tutorial. </h3>
					<h3>Come to the Pyramid London Meetup.</h3>


					<aside class="notes">

					</aside>
				</section>

				<section>
					<h2>A Final Word</h2>
					<h3> Frameworks are just tools. Use the ones which make you happy to code.</p>
<img src="http://i.imgur.com/Fj31vaF.jpg" />

					<aside class="notes">

					</aside>
				</section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				width: 1200,



				theme: 'lostproperty', // available themes are in /css/theme
				transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
